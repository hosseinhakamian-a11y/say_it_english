# ๐ด Say It English - ุญุงูุธู ูพุฑูฺู (MANA_MEMORY.md)

## ๐ ุชุงุฑุฎ ุขุฎุฑู ุจุฑูุฒุฑุณุงู: ฑน ุจููู ฑดฐด (2026-02-08) - ุณุงุนุช ฑฐ:ฐฐ ุชูุฑุงู

---

## ๐ ุฎูุงุตู ูพุดุฑูุชโูุง ุงุฎุฑ

### ฑ. ุงุฏุบุงู Bunny.net ุจุฑุง ุงุณุชุฑู ูุฏู โ
- **Bunny Stream:** ูพุดุชุจุงู ฺฉุงูู ุงุฒ ูพุฎุด ูุฏููุง ุนููุฏ (9:16) ููุงุณุจ ุจุฑุง ุฑูุฒ/ุชฺฉโุชุงฺฉ.
- **Library ID ูพุดโูุฑุถ:** `595075` (ูุงุจู ุชุบุฑ ุฏุฑ ฺฉุฏ).
- **ูุฑูุช ููฺฉ ูุงุจู ูุจูู:**
  - ููฺฉ ฺฉุงูู: `https://iframe.mediadelivery.net/play/595075/VIDEO_ID`
  - ููุท ุขุฏ: `VIDEO_ID`
- **ุชุจุฏู ุฎูุฏฺฉุงุฑ:** ุณุณุชู `/play/` ุฑุง ุจู `/embed/` ุชุจุฏู ูโฺฉูุฏ.

### ฒ. ุงุตูุงุญ ูพูู ูุฏุฑุช ูุญุชูุง (`/admin/content`) โ
- **ุฑูุน ุจุงฺฏ ุฐุฎุฑูโุณุงุฒ:** ูุงู `api/content.ts` ุญุงูุง `POST` ู `DELETE` ุฑุง ูพุดุชุจุงู ูโฺฉูุฏ.
- **ุชุจุฏู ููุฏูุง:** ููุฏูุง ุฏุชุงุจุณ (`snake_case`) ุจู ูุฑูุช ูุฑุงูุชโุงูุฏ (`camelCase`) ุชุจุฏู ูโุดููุฏ.
- **ุณุฑูุณโูุง ูพุดุชุจุงู ุดุฏู:** ุขูพุงุฑุงุชุ ูุชูุจุ ุจุงูโูุชุ ููฺฉ ูุณุชูู/ุงุจุฑุขุฑูุงู.

### ณ. ุทุฑุงุญ ูพูุฑ ุนููุฏ (9:16) โ
- **VideoPlayer:** ุจุฑุง ูุญุชูุง ุฑุงฺฏุงู ู ูพุดโููุงุด.
- **SecureVideoPlayer:** ุจุฑุง ูุญุชูุง ูพูู ุจุง ูุญุงูุธุช ุงุฒ ุฏุงูููุฏ.
- **ูุงุจ ููุจุงู:** `max-w-md` ุจุง `aspect-[9/16]` ุจุฑุง ููุงุด ุฒุจุง ุฏุฑ ุฏุณฺฉุชุงูพ ู ููุจุงู.

### ด. ุณุณุชู ูุญุชูุง ูพูู (Premium Flow)
- **ุฌุฑุงู ฺฉุงุฑ:**
  1. ฺฉุงุฑุจุฑ ุนุงุฏ โ ูโุจูุฏ: "ูุญุชูุง ููู ุงุณุช" + ุฏฺฉูู ุฎุฑุฏ
  2. ฺฉูฺฉ ุฑู "ุฎุฑุฏ" โ ุตูุญู ูพุฑุฏุงุฎุช (ฺฉุงุฑุช ุจู ฺฉุงุฑุช ุง ุฑูุฒุงุฑุฒ)
  3. ุงุฏูู ุชุงุฏ โ ุซุจุช ุฏุฑ ุฌุฏูู `purchases`
  4. ฺฉุงุฑุจุฑ ุฏูุจุงุฑู ูุงุฑุฏ โ ูุฏู ุขููุงฺฉ!
- **ุฌุฏูู ูุฑุจูุทู:** `purchases` (ุจุง ุฑุงุจุทู ุจู `users` ู `content`)

---

## ๐ ุณุงุฎุชุงุฑ ฺฉูุฏ ูุงูโูุง

| ูุงู | ููุด |
|------|-----|
| `api/content.ts` | **CRUD ูุญุชูุง:** ูุณุชุ ุงุฌุงุฏุ ุญุฐู + ุชููุฏ ููฺฉ ุขูพููุฏ ุงุจุฑุขุฑูุงู |
| `api/index.ts` | **ูุงุจ ูุฑฺฉุฒ:** ุขูุงุฑ ุงุฏููุ ฺฉุงุฑุจุฑ ุฌุงุฑุ ูุณุฑูุง ุนููู |
| `client/src/components/VideoPlayer.tsx` | **ูพูุฑ ุนููู:** ูพุดุชุจุงู ุงุฒ ุขูพุงุฑุงุชุ ูุชูุจุ ุจุงูุ ููฺฉ ูุณุชูู |
| `client/src/components/SecureVideoPlayer.tsx` | **ูพูุฑ ุงูู:** ุจุฑุง ูุญุชูุง ุฎุฑุฏุงุฑ ุดุฏู ุจุง ููฺฉ ุงูุถุง ุดุฏู |
| `client/src/pages/admin/content.tsx` | **ูพูู ุงุฏูู:** ูุฏุฑุช ุฏุฑูุณุ ุขูพููุฏ ูุงูุ ุงูุชุฎุงุจ ุณุฑูุณ |

---

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

- [x] ูพุงุฏูโุณุงุฒ ุณุณุชู ุขูพููุฏ ูุณุชูู ุจู ุงุจุฑุขุฑูุงู (Presigned URLs)
- [x] ุงุฏุบุงู Bunny.net Stream ุจุฑุง ูุฏููุง ุขููุฒุด
- [x] ุทุฑุงุญ ูพูุฑ ุนููุฏ (9:16) ุจุฑุง ูุญุชูุง ููุจุงูโูุญูุฑ
- [x] ุฑูุน ุจุงฺฏ ุฐุฎุฑู ูุดุฏู ูุญุชูุง ุฏุฑ ูพูู ุงุฏูู
- [x] ูพุงุฏูโุณุงุฒ "ูุฑุง ุจู ุฎุงุทุฑ ุจุณูพุงุฑ" ุฏุฑ ูุงฺฏู
- [x] ุชุจุฏู ููุฏูุง ุฏุชุงุจุณ ุจู ูุฑูุช ูุฑุงูุชโุงูุฏ

---

## ๐ฏ ฺฉุงุฑูุง ุจุงูโูุงูุฏู

- [ ] **ุชุณุช ุงุจุฑุขุฑูุงู:** ุขุฒูุงุด ุขูพููุฏ ู ูพุฎุด ุงุฒ ุงุจุฑุขุฑูุงู (ูุงุฒ ุจู ุชูุธู CORS)
- [ ] **ููุฏ ุชุงูุจูู:** ุงุถุงูู ฺฉุฑุฏู ุงูฺฉุงู ุขูพููุฏ ุนฺฉุณ ูพุดโููุงุด ุจุฑุง ูุฑ ุฏุฑุณ
- [ ] **ูพุงฺฉุณุงุฒ ูุงูโูุง ุงุถุงู:** ุญุฐู ูุงูโูุง ูุฏู ุฏุฑ ูพูุดู `api/`
- [ ] **ุจูููโุณุงุฒ SEO:** ูุชุงุชฺฏโูุง ู Open Graph ุจุฑุง ุตูุญุงุช ุฏูุฑู

---

## ๐ง ุชูุธูุงุช ููุฑุฏ ูุงุฒ (Environment Variables)

```env
DATABASE_URL=postgresql://...
ARVAN_ENDPOINT=https://s3.ir-thr-at1.arvanstorage.ir
ARVAN_ACCESS_KEY=your_access_key
ARVAN_SECRET_KEY=your_secret_key
ARVAN_BUCKET_NAME=your_bucket_name
```

---

## ๐ก ูุดุงูุฑูโูุง ฺฉูุฏ

### Bunny Storage vs Bunny Stream
| ูฺฺฏ | Storage (CDN) | Stream |
|-------|---------------|--------|
| ููุช | ุงุฑุฒุงูโุชุฑ | ฺฏุฑุงูโุชุฑ |
| ฺฉูุชโูุง ูุฎุชูู | โ | โ (480p-1080p) |
| ูุญุงูุธุช ุงุฒ ุฏุงูููุฏ | โ | โ |
| ููุงุณุจ ุจุฑุง | ูุญุชูุง ุฑุงฺฏุงู | ูุญุชูุง ูพูู |

### ูพุดููุงุฏ:
- **ูุญุชูุง ุฑุงฺฏุงู:** Bunny Storage ุง ุขูพุงุฑุงุช
- **ูุญุชูุง ูพูู:** Bunny Stream ุง ุงุจุฑุขุฑูุงู (ุจุง Signed URLs)

---

## ๐ธ ุงุทูุงุนุงุช ูพุฑุฏุงุฎุช
- **ุขุฏุฑุณ ููุช (BEP20):** `0x2ca84105e9e3f3a91f0385acbd497923d743a342`
- **ุชูุงุณ ูพุดุชุจุงู:** ฐนฑฒณฑฐดฒตด / ฐนฒฒฒดตณตทฑ

---
*ุงู ูุงู ูุฑุฌุน ุงุตู Antigravity ุจุฑุง ุงุฏุงูู ฺฉุงุฑ ุฏุฑ ุฌูุณุงุช ุขูุฏู ุงุณุช.*
