# ๐ด ูุฎูุณุชุงู ูุนูุง - ุญุงูุธู ูพุฑูฺู (MANA_MEMORY.md)

## ๐ ุชุงุฑุฎ ุขุฎุฑู ุจุฑูุฒุฑุณุงู: ฒฐฒต-ฑฒ-ฒธ

### ๐ ูุถุนุช ูุนู ูพุฑูฺู
ูพุฑูฺู ุจุง ููููุช ุฏุฑ ูพูุชูุฑู **Netlify** ูุณุชูุฑ (Deploy) ุดุฏ ู ุจู ุฏุชุงุจุณ **Supabase** ูุชุตู ฺฏุฑุฏุฏ. ุฏุฑ ุญุงู ุญุงุถุฑ ุณุงุช ุจู ุตูุฑุช ุขููุงู ู ูุงู ุฏุฑ ุฏุณุชุฑุณ ุงุณุช.

### โ ุชุบุฑุงุช ุงุนูุงู ุดุฏู (ุงูุฑูุฒ - ฒฐฒต-ฑฒ-ฒธ)
1.  **ุฏูพูู ุฏุฑ Netlify**:
    *   ูุงู ุชูุธูุงุช `netlify.toml` ุจุฑุง ูุฏุฑุช ุจูุฏ ู ุฑุฏุงุฑฺฉุชโูุง API ุณุงุฎุชู ุดุฏ.
    *   ูุงู `server/netlify.ts` ุจู ุนููุงู Handler ุจุฑุง Netlify Functions ุงุฌุงุฏ ุดุฏ ุชุง Express ุฑุง ุจุง ูุญุท Serverless ุณุงุฒฺฏุงุฑ ฺฉูุฏ.
    *   ุจุณุชูโูุง `serverless-http` ุจุฑุง ุงุฌุฑุง ุงูพูฺฉุดู ุฏุฑ ุชูุงุจุน ูุชููุง ูุตุจ ุดุฏ.
2.  **ุงุตูุงุญุงุช ุจูุฏ (Production Fixes)**:
    *   ูพฺฉุฌโูุง ุญุงุช ุจูุฏ (`tsx`, `esbuild`, `vite`, `postcss`, `autoprefixer`, `tailwindcss`, `@tailwindcss/typography`, `@tailwindcss/vite`) ุงุฒ `devDependencies` ุจู `dependencies` ููุชูู ุดุฏูุฏ ุชุง ูุชููุง ุฏุฑ ุฒูุงู ุจูุฏ ุจู ุขูโูุง ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ.
    *   ูุงู `vite.config.ts` ุงุตูุงุญ ุดุฏ ุชุง ูพูุงฺฏูโูุง ูุฎุตูุต Replit (`runtimeErrorOverlay`) ุฏุฑ ูุญุท ูพุฑูุงุฏฺฉุดู ุบุฑูุนุงู ุดููุฏ ู ูุงูุน ุจูุฏ ูุดููุฏ.
3.  **ุชูุธูุงุช ุฏุชุงุจุณ Supabase**:
    *   ุจู ุฏูู ุงุณุชูุงุฏู ุงุฒ ฺฉุงุฑุงฺฉุชุฑูุง ุฎุงุต (`@`, `#`) ุฏุฑ ุฑูุฒ ุนุจูุฑุ ุขุฏุฑุณ `DATABASE_URL` ุจุง ุงุณุชูุงุฏู ุงุฒ Percent Encoding (ุชุจุฏู `@` ุจู `%40` ู `#` ุจู `%23`) ุงุตูุงุญ ุดุฏ.
    *   ูพุฑูฺู ุจุฑุง ูพุงุฏุงุฑ ุจุดุชุฑ ุฏุฑ ูุชููุง ุงุฒ ูพูุฑุช **ถตดณ** (Connection Pooler) ุฏุฑ Supabase ุงุณุชูุงุฏู ูโฺฉูุฏ. ุขุฏุฑุณ ุฏุชุงุจุณ ุฏุฑ ูุชููุง ุจู ูุฑูุช `postgres.project_id:password@host:6543/postgres` ุณุช ุดุฏ.
4.  **ุฏุชุงุจุณ ู Migration**:
    *   ุฌุฏุงูู ุฏุชุงุจุณ ุดุงูู `users`, `content`, `bookings`, `classes`, `enrollments` ุจุง ุงุณุชูุงุฏู ุงุฒ SQL Editor ุฎูุฏู Supabase ุจู ุตูุฑุช ุฏุณุช ุฏุฑ ุฏุชุงุจุณ ุณุงุฎุชู ุดุฏูุฏ.
    *   **ุงุชุตุงู ูพุงุฏุงุฑ (Persistence):** ฺฉูุงุณ `DatabaseStorage` ุฏุฑ `server/storage.ts` ูพุงุฏูโุณุงุฒ ุดุฏ ุชุง ุฏุงุฏูโูุง ุจู ุฌุง ุญุงูุธู ูููุชุ ุฏุฑ ุฏุชุงุจุณ Supabase ุฐุฎุฑู ุดููุฏ.
    *   **ุจูููโุณุงุฒ ุงุณุชุงุฑุชโุขูพ:** ููุทู Seed ฺฉุฑุฏู ุงููู ุงุฒ `server/routes.ts` ุญุฐู ู ุจู ุงุณฺฉุฑูพุช ุฌุฏุงฺฏุงูู `script/seed.ts` ููุชูู ุดุฏ (`npm run db:seed`).
    *   **ุญู ูุดฺฉู ุงุชุตุงู (Final Verified Fix):**
        *   ุงุณุชูุงุฏู ุงุฒ **Transaction Pooler** (ูพูุฑุช 6543) ุงูุฒุงู ุงุณุช.
        *   ุขุฏุฑุณ ุณุฑูุฑ ุจุงุฏ ุฏูู ุจุงุดุฏ (ูุซูุงู `aws-1-eu-north-1`).
        *   ุฑูุฒ ุนุจูุฑ ุจุงุฏ ุณุงุฏู (ุจุฏูู ฺฉุงุฑุงฺฉุชุฑ ุฎุงุต) ุจุงุดุฏ ุชุง ูุดฺฉู ุงูฺฉูุฏูฺฏ ูพุด ูุงุฏ (ุฑูุฒ ูุนู: `ManaPalm2025`).
        *   SSL ุจุงุฏ ุฏุฑ ูพุฑูุฏุงฺฉุดู ูุนุงู ุจุงุดุฏ (`rejectUnauthorized: false`).

### ๐ ฺฏุงูโูุง ุจุนุฏ
- [ ] **ุชุณุช ููุง ุนููฺฉุฑุฏ**: ุจุฑุฑุณ ุซุจุชโูุงู ู ุฑุฒุฑู ฺฉูุงุณโูุง ุฏุฑ ุณุงุช ุขููุงู (Netlify).
- [ ] **ุณุฑูุฑ ูุฏุง (Phase 2)**: ุฑุงูโุงูุฏุงุฒ ุณุฑูุณ ุงุณุชุฑู ูุฏู (ูุซูุงู Bunny.net) ุจุฑุง ูุฒุจุงู ุญุฑููโุง ูุฏููุง ุขููุฒุด.
- [ ] **ูพูู ุงุฏูู**: ุณุงุฎุช ุฏุดุจูุฑุฏ ูุฏุฑุช ูุญุชูุง.

---
*ุงู ูุชู ุจู ุนููุงู "ุญุงูุธู ุฒูุฏู" ูพุฑูฺู ุนูู ูโฺฉูุฏ ุชุง ุฏุฑ ูุฑ ุฌูุณู ุงุฒ ุขุฎุฑู ูุถุนุช ุขฺฏุงู ุจุงุดู.*
