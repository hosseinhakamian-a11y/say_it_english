# ๐ด Say It English - ุญุงูุธู ูพุฑูฺู (MANA_MEMORY.md)

ุงู ูุงู "ูุบุฒ ูุชูฺฉุฑ" ูพุฑูฺู ุงุณุช. ูุฑ ุฒูุงู ฺฉู ูุงุฒ ุจู ุงุฏุขูุฑ ูุนูุงุฑุ ุฑุงู ุญูโูุง ูุจู ุง ูุถุนุช ุณุณุชู ุฏุงุดุชุฏุ ุงุจุชุฏุง ุจู ุงูุฌุง ูุฑุงุฌุนู ฺฉูุฏ.

## ๐ ุขุฎุฑู ุจุฑูุฒุฑุณุงู: ฒณ ุจููู ฑดฐด (2026-02-12) - ุณุงุนุช ฑถ:ณฐ ุชูุฑุงู

---

## ๐ ููุฑุณุช ูุณุชูุฏุงุช ูุฑุฌุน (Reference Documentation)
ุจุฑุง ุฌุฒุฆุงุช ูู ุฏููุ ุจู ูุงูโูุง ุฒุฑ ุฏุฑ ูพูุดู `.agent/patterns` ูุฑุงุฌุนู ฺฉูุฏ:

1.  **๐ ุฑุงูููุง ุนุจโุงุงุจ (Troubleshooting):**
    - ๐ ุขุฏุฑุณ: `.agent/patterns/TROUBLESHOOTING_GUIDE.md`
    - **ฺฉุงุฑุจุฑุฏ:** ููุช ูุญุชูุง ููุฏ ููโุดูุฏุ ูพุฑููุงู ุฐุฎุฑู ููโุดูุฏุ ุง ุฏุชุงุจุณ ูุตู ูุณุช.

2.  **๐ฒ ุฑุงูููุง ูพุงุฏูโุณุงุฒ OTP (ูพุงูฺฉ):**
    - ๐ ุขุฏุฑุณ: `.agent/patterns/OTP_IMPLEMENTATION_GUIDE.md`
    - **ฺฉุงุฑุจุฑุฏ:** ุงุณุชุงูุฏุงุฑุฏ ุตุญุญ ุงููพูุชโูุง ฺฉุฏ ุชุงุฏ (ุจุฏูู ุจุงฺฏ ูพุฑุด ู ูุงุตูู).

---

## ๐จ ูุฌุงุช ูพุฑูฺู: ุญู ูุดฺฉู Drizzle ู Vercel (ููู - 2026-02-12) โ

### 1. ูุดฺฉู ฺฉุฑุด Runtime ุฏุฑ Vercel (Edge Compatibility) ๐ฅ
- **ุนูุงุฆู:** ุงุฑูุฑ `FUNCTION_INVOCATION_FAILED` ู ฺฉุฑุด ฺฉุงูู ูุงูฺฉุดูโูุง ุณุฑูุฑูุณ ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ `drizzle-zod`.
- **ุนูุช:** ฺฉุชุงุจุฎุงูู `drizzle-zod` ู ุจุฑุฎ ฺฉุงููฺฏโูุง `drizzle-orm` ุจุง ูุญุท ุงุฌุฑุง Node.js ุฏุฑ Vercel (ูุฎุตูุตุงู ูุณุฎู ุจุงูุฏูุฑ Rollup) ูุงุณุงุฒฺฏุงุฑ ุฏุงุดุชูุฏ.
- **ุฑุงู ุญู (Fix):**
    - ุญุฐู ฺฉุงูู ูุงุจุณุชฺฏโูุง `drizzle-zod` ุงุฒ ูุงู ุงุดุชุฑุงฺฉ `shared/schema.ts`.
    - ุชุนุฑู ุฏุณุช (Manual Definition) ุงุณฺฉูุงูุง ุฏุฑ ฺฉูุงูุช (`Auth.tsx` ู `admin/content.tsx`) ุจุง ุงุณุชูุงุฏู ุงุฒ `zod`.
    - **ุฏุฑุณ ููู:** ุฏุฑ ูพุฑูฺูโูุง Vercelุ ุงุฒ ุจู ุงุดุชุฑุงฺฉ ฺฏุฐุงุฑ ูุณุชูู Schema ุจู Backend ู Frontend ุงฺฏุฑ ุจุงุนุซ ูุงุฑุฏ ุดุฏู ฺฉุชุงุจุฎุงููโูุง Server-side ุจู Client-side ุดูุฏุ ุฎูุฏุฏุงุฑ ฺฉูุฏ.

### 2. ูุดฺฉู ุงุชุตุงู ุฏุชุงุจุณ (Scope & Connectivity) ๐
- **ุนูุงุฆู:** ุงุฑูุฑ `ENOTFOUND` ููฺฏุงู ุงุฌุฑุง `npm run db:push` ุฑู ุณุณุชู ููฺฉุงู (ุจู ุฏูู ุชุญุฑู/ููุชุฑ).
- **ุฑุงู ุญู (Fix):**
    - ุณุงุฎุช ุงูุฏูพููุช ุงุฎุชุตุงุต `api/seed-remote.ts` ฺฉู ุฑู ุณุฑูุฑ ุงุฌุฑุง ูโุดูุฏ.
    - ุงู ุงุณฺฉุฑูพุช ุฌุฏููโูุง ุฑุง ูโุณุงุฒุฏ (DDL) ู ุฏุงุฏูโูุง ุงููู ุฑุง ูุงุฑุฏ ูโฺฉูุฏ (Seed).
    - **ูฺฉุชู:** ุจุฑุง ุฏูุฑ ุฒุฏู ูุญุฏูุฏุชโูุง ุดุจฺฉู ููฺฉุงูุ ุงุฒ ุณุฑูุฑ Vercel ุจู ุนููุงู "ูพุฑุงฺฉุณ ุงุฌุฑุง ฺฉููุฏู" ุงุณุชูุงุฏู ฺฉุฑุฏู.

### 3. ูพุงุฏุงุฑ API (Raw SQL vs ORM) ๐ก๏ธ
- **ุนูุงุฆู:** ุฎุทุง ุฏุฑ `api/index.ts` ููฺฏุงู ุงุณุชูุงุฏู ุงุฒ `db.select()` ุจู ุฏูู ูุดฺฉูุงุช Scope ูุชุบุฑ `pool`.
- **ุฑุงู ุญู (Fix):**
    - ุจุงุฒููุณ `api/index.ts` ุจุฑุง ุชุนุฑู **Global Pool**.
    - ุงุณุชูุงุฏู ุงุฒ **SQL ุฎุงูุต (`pool.query`)** ุจุฑุง ฺฉูุฆุฑโูุง ุญุงุช ูุซู ูุณุช ูุญุชูุง (`/content`).
    - ุงู ฺฉุงุฑ ูุงุจุณุชฺฏ ุจู ูุงูโูุง ุงูุชุฒุงุน ORM ุฑุง ุฏุฑ ููุงุท ุจุญุฑุงู ุญุฐู ฺฉุฑุฏ ู ูพุงุฏุงุฑ ฑฐฐูช ุฑุง ุชุถูู ูููุฏ.

---

## ๐ ุฏุณุชุงูุฑุฏูุง ฺฉูุฏ ุงุฎุฑ (ุฌูุณู ฒณ ุจููู) โ

### 1. ุญู ูุดฺฉู ูุงูพุฏุฏ ุดุฏู ูุญุชูุง (Database Region Migration) ๐๏ธ
- **ูุดฺฉู:** ุฏุชุงุจุณ ุงุฒ `eu-central-1` (ุขููุงู) ุจู `eu-north-1` (ุณูุฆุฏ) ููุชูู ุดุฏู ุจูุฏ.
- **ุฑุงู ุญู:** ุขูพุฏุช `.env.local` ุจุง ุขุฏุฑุณ ุฌุฏุฏ.

### 2. ุจุงุฒููุณ ฺฉุงูู ุณุณุชู OTP (ูุฑูุฏ ูพุงูฺฉ) ๐ฑ
- **ูุดฺฉู:** ูพุฑุด ูุดุงูฺฏุฑุ ูพุงฺฉ ูุดุฏู ุงุนุฏุงุฏ.
- **ุฑุงู ุญู:** ุงุณุชูุงุฏู ุงุฒ **Local State Array** ู ูููุช **Vazirmatn**.

---

## ๐๏ธ ูุนูุงุฑ ุณุณุชู (System Architecture)

- **Frontend:** React + Vite + TailwindCSS (Glassmorphism UI)
- **Backend:** Node.js (Vercel Serverless Functions) - Monolithic entry at `api/index.ts`
- **Database:** Supabase PostgreSQL (Region: `eu-north-1`) - Accessed via Raw SQL for reads, Drizzle for auth
- **Hosting:** Vercel

---

## ๐ ูุถุนุช ูุนู ุณุณุชู (System Health)

| ฺฉุงููพูููุช | ูุถุนุช | ุชูุถุญุงุช |
| :--- | :--- | :--- |
| **Auth (OTP)** | ๐ข ุนุงู | ูููุช ูุงุฑุณุ ุจุฏูู ุจุงฺฏ ุชุงูพุ ุชุงูุฑ ูุนุงู |
| **Database** | ๐ข ุนุงู | ูุตู ุจู `aws-1-eu-north-1`ุ ุฏุงุฏูโูุง ูุญููุธ |
| **Profile** | ๐ข ุนุงู | ูุงุจูุช ูุฑุงุด ูุงู ู ุชุบุฑ ุฑูุฒ ุนุจูุฑ ูุนุงู |
| **Content** | ๐ข ุนุงู | ููุงุด ูุฏููุง ุจุง ูพูุฑ ุงุฎุชุตุงุต (YouTube Embed) |
| **Deploy** | ๐ข ุนุงู | ุขุฎุฑู ูุณุฎู ูพุงุฏุงุฑ ุฑู Vercel ุจุงูุง ุขูุฏู ุงุณุช |

---

## ๐ฏ ููุดู ุฑุงู ุขูุฏู (Next Steps)

### ุงูููุช ฑ: ุฏุงุดุจูุฑุฏ ฺฉุงุฑุจุฑ
- [ ] ููุงุด ูุณุช ุฏูุฑูโูุง ุฎุฑุฏุงุฑ ุดุฏู ุฏุฑ `/dashboard`.
- [ ] ููุงุด ูููุฏุงุฑ ูพุดุฑูุช ุงุฏฺฏุฑ.

### ุงูููุช ฒ: ุณุณุชู PDF ุณุงุฒ
- [ ] ุฏฺฉูู "ุฏุงูููุฏ PDF ุฏุฑุณ" ุฏุฑ ุตูุญู ุฌุฒุฆุงุช ูุฏู.

---

## ๐ธ ุงุทูุงุนุงุช ูุงู ูพุฑูฺู
- **ุขุฏุฑุณ ููุช (BEP20):** `0x2ca84105e9e3f3a91f0385acbd497923d743a342`
