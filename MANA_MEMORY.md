# ๐ด Say It English - ุญุงูุธู ูพุฑูฺู (MANA_MEMORY.md)

## ๐ ุชุงุฑุฎ ุขุฎุฑู ุจุฑูุฒุฑุณุงู: ฑท ุจููู ฑดฐด (2026-02-06) - ุณุงุนุช ฑด:ฐต ุชูุฑุงู

---

## ๐ ุชุญูู ุงููุช ู ูู (Upgrade 10.0)

### 1. ุณุณุชู ุงุณุชุฑู ู ุฏุงูููุฏ ุงูู (Secure Content Delivery)
- **ูุฒุจุงู ูุงู (ArvanCloud):** ุงูุชูุงู ูุญุชูุงูุง ูพูู ุจู **Object Storage ุขุฑูุงู ฺฉูุงุฏ**.
- **ููฺฉโูุง ุงูุถุง ุดุฏู (Signed URLs):** ูพุงุฏูโุณุงุฒ ูุชุฏ ุงูุถุง ููฺฉ (S3 Presigned URLs) ุจุง ุงููุถุง ฑ ุณุงุนุชู ุฏุฑ ูุงู `server/s3-storage.ts`.
- **ุฌููฺฏุฑ ุงุฒ ฺฉูพ:** ูุฏููุง ุจู ุตูุฑุช `inline` ุงุณุชุฑู ูโุดููุฏ ุชุง ูุฑูุฑฺฏุฑ ุฏฺฉูู ุฏุงูููุฏ ูุดุงู ูุฏูุฏ. ุจุฑุง ูุงูโูุง ุฏุงูููุฏ (Zip) ุงุฒ `attachment` ุงุณุชูุงุฏู ูโุดูุฏ.
- **ุจุฑุฑุณ ุฏุณุชุฑุณ:** ุฑูุช `/api/download` ุฏุฑ `api/index.ts` ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ "ูุถุนุช ูุงฺฏู" ู "ุฎุฑุฏ ูุญุตูู" (ุง ููุด Admin) ุฑุง ฺฺฉ ฺฉุฑุฏู ู ุณูพุณ ฺฉุงุฑุจุฑ ุฑุง ุจู ููฺฉ ุงูู ุฑุฏุงุฑฺฉุช ูโฺฉูุฏ.

### 2. ฺฉูพุงุฑฺูโุณุงุฒ ู ุชุนูุฑ ุณุณุชู ุงุญุฑุงุฒ ููุช (Unified Session Fix)
- **ุณุดู ฺฉูพุงุฑฺู:** ุงุฏุบุงู ฺฉุงูู ุณุณุชู ูุฑูุฏ ุจุง **ุฑูุฒ ุนุจูุฑ** ู **ูพุงูฺฉ (SMS)** ุจุฑ ูพุงู ฺฉูฺฉโูุง ุงูู (`httpOnly`, `Secure`, `SameSite=Lax`).
- **ููฺฏุงูโุณุงุฒ ุฌุงุฏู:** ุงุณุชูุงุฏู ุงุฒ `useMutation` ุฏุฑ `use-auth.ts` ุจุฑุง ุขูพุฏุช ุขู ูุถุนุช ฺฉุงุฑุจุฑ ุฏุฑ ูุฑุงูุชโุงูุฏ ุจูุงูุงุตูู ูพุณ ุงุฒ ุชุงุฏ OTP.
- **ุฏุณุชุฑุณ ูฺู ุงุฏูู:** ุดูุงุฑูโูุง `09222453571` ู `09123104254` ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ูุญุธู ูุฑูุฏ ุจู ุนููุงู **admin** ุดูุงุณุง ูโุดููุฏ.

### 3. ูพูุฑ ูุฏู ุงุฎุชุตุงุต
- **ฺฉุงููพูููุช `SecureVideoPlayer`:** ุทุฑุงุญ ูพูุฑ ุญุฑููโุง ุจุง ูุงุจูุช ูุฎูโุณุงุฒ ููฺฉ ุฏุงูููุฏุ ุบุฑูุนุงูโุณุงุฒ ุฑุงุณุชโฺฉูฺฉ ู ุจุงุฑฺฏุฐุงุฑ ููุดููุฏ ููฺฉโูุง ุงูู.

---

## ๐ ุณุงุฎุชุงุฑ ฺฉูุฏ ูพุฑูฺู (New Architecture)

| ูุงู | ููุด ุฏุฑ ุณุณุชู |
|------|-------|
| `api/index.ts` | **ูุณุชู ูุฑฺฉุฒ:** ูุฏุฑุช ุณุดูโูุงุ APIูุง ุฏุงูููุฏ ุงููุ ูุฑูุฏ ูพุงูฺฉ ู ุจุงูุงูุณ ุฏุชุงุจุณ. |
| `server/storage.ts` | **ูุฏุฑุช ุฏุชุงุจุณ:** ุงูุชุฑูุณ ุงุตู ุฐุฎุฑู ู ุจุงุฒุงุจ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู ู ุชุฑุงฺฉูุดโูุง. |
| `server/s3-storage.ts` | **ูุฏุฑุช ูุงู ุงุจุฑ:** ุงุชุตุงู ุจู ุขุฑูุงู ฺฉูุงุฏ ู ุชููุฏ Signed URLs. |
| `client/src/components/SecureVideoPlayer.tsx` | ูพูุฑ ููุดููุฏ ูุญุชูุง ูพูู. |
| `shared/schema.ts` | ุชุนุงุฑู ุฌุฏุงูู ุฏุชุงุจุณ (ุงุถุงูู ุดุฏู ููุฏ `file_key` ุจุฑุง ูุญุชูุง). |

---

## โ ูุถุนุช ูุนู ูพุฑูฺู (Current Health)
- **ุงุณุชฺฉ ูู:** React (Vite) + Vercel + PostgreSQL (Supabase) + Drizzle ORM.
- **ูุถุนุช ุงููุช:** ุนุงู (Session-based, Signed URLs, Role-based access).
- **ูุถุนุช ูุญุท:** ูุชุบุฑูุง `ARVAN_*` ุฏุฑ ูพูู Vercel ู ูุงู `.env.local` ุชูุธู ุดุฏูโุงูุฏ.
- **ุชุณุช ููุง:** ุงุณฺฉุฑูพุช `script/test-storage.ts` ุจุฑุง ุชุณุช ุตุญุช ุงุชุตุงู ุจู ุขุฑูุงู ุจุง ููููุช ุงุฌุฑุง ุดุฏ.

---

## ๐ฏ ฺฉุงุฑูุง ุจุงูโูุงูุฏู ู ูพุดููุงุฏ
- [ ] **ูพุงฺฉุณุงุฒ ฺฉุฏ:** ุญุฐู ูุงูโูุง ุงุถุงู ุฏุฑ ูพูุดู `api/` (ูุซู `login.ts`, `posts.ts`) ฺูู ุชูุงู ููุทู ุฏุฑ `index.ts` ูุชูุฑฺฉุฒ ุดุฏู ุงุณุช.
- [ ] **ุณุณุชู ุขูพููุฏ ุงุฏูู:** ูพุงุฏูโุณุงุฒ ุฑุงุจุท ฺฉุงุฑุจุฑ ุฏุฑ ูพูู ุงุฏูู ุจุฑุง ุขูพููุฏ ูุณุชูู ูุงูโูุง ุจู ุขุฑูุงู ุจุง ุงุณุชูุงุฏู ุงุฒ `generateUploadLink`.
- [ ] **ุทุฑุงุญ ูุฏุฑู:** ุงุณุชูุงุฏู ุงุฒ `framer-motion` ุจุฑุง ุงููุดูโูุง ูุฑูุฏ ู ุฎุฑูุฌ ุตูุญุงุช (ุฏุฑ ฺฏุฒุงุฑุด ุงุฑุชูุง ูพุดููุงุฏ ุดุฏ).

---

## ๐ธ ุงุทูุงุนุงุช ูพุฑุฏุงุฎุช ู ูุงู
- **ุขุฏุฑุณ ููุช ฺฉุฑูพุชู (BEP20)**: `0x2ca84105e9e3f3a91f0385acbd497923d743a342`
- **ุดูุงุฑูโูุง ุชูุงุณ ุฌูุช ูพุดุชุจุงู**: ฐนฑฒณฑฐดฒตด / ฐนฒฒฒดตณตทฑ

---
*ุงู ูุงู ูุฑุฌุน ุงุตู Antigravity ุจุฑุง ุงุฏุงูู ฺฉุงุฑ ุฏุฑ ุฌูุณุงุช ุขูุฏู ุงุณุช.*
